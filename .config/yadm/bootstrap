#!/bin/bash

# Install nix package manager
curl -L https://nixos.org/nix/install | sh

# source nix path
. /home/bernt/.nix-profile/etc/profile.d/nix.sh

# Install packages
nix-env -i \
	zsh \
	kitty \
	git \
	curl \
	unzip \
	azure-cli \
	k9s \
	kubectl \
	kubectx \
	lazygit \
	ripgrep \
	wget \
	tmux \
	oh-my-zsh \
	neovim \
	zsh-syntax-highlighting \
	zsh-autosuggestions

# zsh default shell
zsh_path=$(which zsh)
if ! grep -q "^${zsh_path}$" "/etc/shells"; then
	echo "$zsh_path" | sudo tee -a /etc/shells
fi
chsh -s "${zsh_path}" "${USER}"
